@charset "utf-8";

@import "variables";
@import "animations";

// Flickity - https://github.com/metafizzy/flickity
@import "~flickity/dist/flickity.min";


@import "~bulma/sass/utilities/_all";
@import "~bulma/sass/base/_all";
//@import "~bulma/sass/components/_all";
@import "~bulma/sass/grid/_all";
@import "~bulma/sass/layout/_all";

/* Modified imports for ~bulma/sass/elements/_all.scss */
//@import "~bulma/sass/elements/_all";
@import "~bulma/sass/elements/box.sass";
@import "~bulma/sass/elements/button.sass";
@import "~bulma/sass/elements/container.sass";
@import "~bulma/sass/elements/content.sass";
@import "~bulma/sass/elements/form.sass";
@import "~bulma/sass/elements/icon.sass";
@import "~bulma/sass/elements/image.sass";
@import "~bulma/sass/elements/notification.sass";
@import "~bulma/sass/elements/progress.sass";
@import "~bulma/sass/elements/table.sass";
@import "~bulma/sass/elements/tag.sass";
@import "~bulma/sass/elements/title.sass";
@import "~bulma/sass/elements/other.sass";

html {
  background: #e5e6eb;
}

body {

  margin: auto;
  background: #FFFFFF;
}

/* Global Typography Styles */
body, html {
  font-family: $body-copy-font;
  color: $body-copy-color;
  font-size: 18px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  // scale down font size responsively on smaller screens
  @media (max-width: 1000px) {
    font-size: calc(15px + .4vw);
  }
}

h1, h2, h3, h4, h5, h6, p.is-subheading {
  line-height: 1.2em;
  margin-bottom: 1em;
}

h1.is-large {
  font-family: $heading-copy-font;
  font-size: 2.3rem;
  color: $heading-copy-color;
  word-break: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  margin-bottom: 0.8em;

  @include tablet {
    font-size: 3.25rem;
  }

  @include desktop {
    font-size: 4rem;
  }
}

h1 {
  font-family: $heading-copy-font;
  font-size: 2rem;
  color: $heading-copy-color;
  line-break: break-word;
  hyphens: auto;

  @include desktop {
    font-size: 2.2rem;
  }
}

h2 {
  font-family: $heading-copy-font;
  font-size: 1.5rem;
  color: $heading-copy-color;

  @include desktop {
    font-size: 1.75rem;
  }
}

h3 {
  font-family: $subheading-copy-font;
  font-size: 1.4rem;
  font-weight: bold;
  color: $heading-copy-color;
}

h4, h5, h6 {
  font-weight: bold;
  color: $heading-copy-color;
}

.heading-title-wrap {
  overflow: hidden;
  
  .heading-title {
    display: block;
  }
}
p {
  line-height: 1.65em;
  margin-bottom: 1em;
}

p.is-subheading {
  font-family: $subheading-copy-font;
  font-weight: bold;
  letter-spacing: 0.1em;
  color: $heading-copy-color;

  &.has-dash {
    display: flex;
    align-items: center;

    &:before {
      content: '';
      display: block;
      width: 0.9em;
      height: 3px;
      margin-right: 0.6em;
      vertical-align: -45%;
      background: $white;
    }
  }
}

p.is-multi-column {
  @include desktop {
    column-count: 2;
    column-gap: 2.8em;
    word-break: break-word;
  }
}

a {
  font-weight: bold;
  letter-spacing: 0.03em;
  color: $heading-copy-color;
  font-size: 0.9em;
  line-height: 1.65em;
}

.button {
  border-radius: 0;
  padding: 0.8rem 1.3rem;
  font-weight: bold;
  color: #FFFFFF;
  height: auto;
  background: $black;
  border: none;

  &[disabled] {
    color: $black;
  }

  &.is-outlined {
    background: rgba($black, 0);
    border: 2px solid rgba($black, 0.75);
    color: $black;
    font-size: 0.85em;

    transition: transform $fast-transition-speed $easeOutCubic, background-color $fast-transition-speed $easeInOutCubic, color $fast-transition-speed $easeInOutCubic;

    &:hover {
      transform: translateY(-0.4rem);

      color: $white;
      background: rgba($black, 1);
    }
  }

  &.text-button {
    padding: 0;
    text-decoration: underline;
    color: $black;
    background: none;
    font-weight: normal;
    margin-top: 1em;
  }
}

.is-dark .button {
  background: $white;
  color: $black;

  &[disabled] {
    color: #888888;;
  }

  &.is-outlined {
    background: rgba($white, 0);
    color: $white;
    border-color: rgba($white, 0.75);

    &:hover {
      color: $black;
      background: rgba($white, 1);
    }
  }

  &.text-button {
    color: $white;
    background: none;
  }
}

[class^="icon-"]:before, [class*=" icon-"]:before {
  font-family: "fontello";
  font-style: normal;
  font-weight: normal;
  speak: none;
 
  display: inline-block;
  text-decoration: inherit;
  width: 1em;
  margin-right: .2em;
  text-align: center;
  /* opacity: .8; */
 
  /* For safety - reset parent styles, that can break glyph codes*/
  font-variant: normal;
  text-transform: none;
 
  /* fix buttons height, for twitter bootstrap */
  line-height: 1em;
 
  /* Animation center compensation - margins should be symmetric */
  /* remove if not needed */
  margin-left: .2em;
 
  /* you can be more comfortable with increased icons size */
  /* font-size: 120%; */
 
  /* Font smoothing. That was taken from TWBS */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
 
  /* Uncomment for 3D effect */
  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */
}

/* Common Layout Classes */
img, audio, video {
  display: block;
}

img.cover {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.clearfix {
  &:before, &:after {
      content: "";
      display: table;
  }

  &:after {
      clear: both;
  }
}

.container {
  //width: 81%;
  //margin: 0 $container-margin;
  //margin: 0 auto;
  position: relative;
  padding: 0 1rem;

  &.is-full {
    max-width: none;
    width: 100%;
    margin: 0;
  }

  // &.is-large {
  //   margin: 0 $container-large-margin;
  // }

  &.is-small {
    padding: 0 $container-small-margin;
  }
}

.section {
  padding: 0;

  &.is-small {
    padding: $small-spacing 0;
  }

  &.is-small-desktop {
    @include desktop {
      padding: $small-spacing 0;
    }
  }

  &.is-small-spaced:not(:first-child) {
    padding-top: $small-spacing;
  }

  &.is-small-top {
    padding-top: $small-spacing;
  }
  &.is-small-bottom {
    padding-bottom: $small-spacing;
  }

  &.is-medium {
    padding: $medium-spacing 0;
  }

  &.is-medium-desktop {
    @include desktop {
      padding: $medium-spacing 0;
    }
  }

  &.is-medium-spaced:not(:first-child) {
    padding-top: $medium-spacing;
  }

  &.is-medium-top {
    padding-top: $medium-spacing;
  }
  &.is-medium-bottom {
    padding-bottom: $medium-spacing;
  }

  &.is-large {
    padding: $large-spacing 0;
  }

  &.is-large-desktop {
    @include desktop {
      padding: $large-spacing 0;
    }
  }

  &.is-large-spaced:not(:first-child) {
    padding-top: $large-spacing;
  }

  &.is-large-top {
    padding-top: $large-spacing;
  }
  &.is-large-bottom {
    padding-bottom: $large-spacing;
  }
}

.columns {
  &.is-reversed-desktop {
    @include tablet {
      flex-direction: row-reverse;
    }
  }
}

/* Utility Classes */
.is-vertical-center {
  display: flex;
  justify-content: center;
}

.is-offset-up {
  position: relative;
  top: -5rem;
}

.is-dark, .is-grey {
  color: $white;

  h1, h2, h3, p, a {
    color: $white;
  }
}

.is-bright {
  color: $black;

  h1, h2, h3, p, a {
    color: $black;
  }

  p.has-dash:before {
    background: $black;
  }
}

.has-background {
  background-color: $white;

  &.is-dark {
    background-color: $black;
  }

  &.is-off-white {
    background-color: #F9F9F9;
  }

  &.is-grey {
    background-color: $grey;
  }
}

.is-background-container {
  position: relative;
  z-index: 1;
  // background: $white;

  // &.is-dark {
  //   background: $black;
  // }
}

.background-image-container {
  position: absolute;
  top: 0;
  left: 0;
  width:100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;

  img, video {
    position: relative;
    max-width: none;
    object-fit: cover;
    object-position: center;
    left: -5%;
    top: -5%;
    width: 110%;
    height: 110%;
  }
}

.transition-helper {
  width: 100%;
  height: 100%;
  background: $black;

  &.is-transparent {
    background: none;
  }
}

/* General Styles */
a.logo {
  position: relative;
  display: inline-block;


  .svg {
    height: 35px;
    width: auto;
  }

  &:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}

.pullquote .quote {
  position: relative;

  .quotation-mark {
    width: 100px;
    height: 100px;
    position: absolute;
    top: -50px;
    left: -75px;

    display: none;

    @include desktop {
      display: block;
    }

    svg {
      fill: #DDDDDD;
    }
  }

  .author {
    font-size: 1rem;
    color: #555555;
  }
}

.is-dark.pullquote .quote, .is-dark .pullquote .quote {
  .quotation-mark svg {
    fill: #2b2d2e;
  }

  .author {
    color: #CCCCCC;
  }
}

.page-wrapper {
  display: flex;
  flex-direction: row;
}

#page-content-container {
  width: 100%;

  @include tablet {
    width: calc(100% - #{$fixed-nav-size});
    margin-left: $fixed-nav-size;
    margin-top: 0;
  }
}

nav.main-nav {
  height: $fixed-nav-size;
  width: 100vw;
  position: fixed;
  display: flex;
  flex-direction: row;
  background: $black - #040404;
  //margin: 0px auto;
  z-index: 150;
  text-align: center;

  @include tablet {
    flex-direction: column;
    height: 100vh;
    width: $fixed-nav-size;
  }

  .nav-logo {
    display: flex;
    align-self: center;
    padding-left: 1.5rem;

    @include tablet {
      align-self: center;
      padding-left: 0;
      padding-top: 1.5rem;
    }

    .logo svg {
      fill: $white;
    }
  }

  .nav-overlay-trigger {
    display: flex;
    flex: 1;
    align-self: center;
    justify-content: flex-end;
    padding-right: 1.5rem;

    @include tablet {
      align-self: center;
      padding-right: 0;
    }

    button.nav-overlay-toggle {
      display: flex;
      align-self: flex-end;
      padding: 0;
      margin: 0;
      border: 0;
      position: relative;
      width: 40px;
      height: 40px;
      cursor: pointer;
      pointer-events: all;
      background: 0 0;
      outline: none;

      @include tablet {
        align-self: center;
      }

      &:before, &:after {
        content: "";
        position: absolute;
        left: 6px;
        width: 27px;
        height: 3px;
        background: $white;
        transition: transform 200ms $easeInOutCubic; 

        transform-origin: 50% 50%;
      }

      &:before {
        top: 0;
        transform: translateY(13px);
      }

      &:after {
        bottom: 0;
        transform: translateY(-13px);
      }

      &.is-active {
        &:before {
          transform: translateY(18.5px) rotate(135deg);
        }

        &:after {
          transform: translateY(-18.5px) rotate(45deg);
        }
      }

      .hidden-label {
        display: block;
        overflow: hidden;
        text-indent: 100%;
        white-space: nowrap;
      }
    }
  }

  .social-media-links {
    display: none;
    align-self: center;
    padding-bottom: 1.5rem;
    flex-direction: column;

    a { 
      color: $white;
      transition: transform $normal-transition-speed $easeOutQuart;

      &:not(:first-child) {
        margin-top: 1.2em;
      }

      &:hover {
        transform: translateY(-0.35rem);
        opacity: 0.8;
      }
    }

    @include tablet {
      display: flex;
    }
  }
}

.nav-overlay {
  position: fixed;
  display: flex;
  overflow: auto;
  width: 100%;
  min-height: 100%;
  z-index: 149;
  padding: 4rem 0 1rem 0;
  visibility: hidden;
  opacity: 0;
  transition: all $fast-transition-speed $easeOutQuart;
  background: $black - #040404;

  @include tablet {
    padding-left: $fixed-nav-size;
  }

  &.is-active {
    visibility: visible;
    opacity: 1;
  }

  .container {
    display: flex;
    flex-direction: column;
  }

  .menu-background {
    opacity: 0;
    visibility: hidden;
    transform: scale(1.01);
    transition: all 1000ms $easeInOutCubic;

    &.is-active {
      visibility: visible;
      opacity: 0.35;
      transform: scale(1);
    }
  }

  .links {
    display: flex;
    align-content: center;
    flex-grow: 1;
    text-align: center;

    ul {
      display:flex;
      flex-direction: column;
      justify-content: center;
      margin: 0px auto;
    }

    a {
      position: relative;
      display: inline-block;
      font-family: $heading-copy-font;
      font-size: 1.75rem;
      padding: 0.3rem 0;
      transition: all $normal-transition-speed $easeOutQuart;

      @include desktop {
        font-size: 3rem;
      }

      &:after {
        display: block;
        content: '';
        position: absolute;
        bottom: 25%;
        width: 100%;
        height: 1.5rem;
        z-index: -1;

        background: $black;
        transform: translate3d(0, 0, 0) scaleX(0);
        transform-origin: 50% 50%;

        transition: transform $normal-transition-speed $easeOutQuart;
      }

      &:hover {
        opacity: 1;
        transform: translateY(-0.4rem);

        &:after {
          transform: translate3d(0, 0.5rem, 0) scaleX(1.1);
        }
      }
    }
  }

  .links li {
    transform: translateY(3rem);
    opacity: 0;
    transition: all $normal-transition-speed $easeOutQuart;

    @for $i from 0 to 15 {
      &:nth-child(#{$i + 1}) {
        transition-delay: 0;
      }
    }
  }

  &.is-active .links li {
    transform: translateY(0);
    opacity: 1;

    @for $i from 0 to 15 {
      &:nth-child(#{$i + 1}) {
        transition-delay: (100ms * ($i + 1)) + 100ms;
      }
    }
  }

  .contact {
    display: flex;
    flex-direction: column;
    text-align: center;
    opacity: 0;

    transition: all $normal-transition-speed $easeOutQuart;

    p {
      margin: 0;
    }

    a, p a {
      font-size: 0.9em;
      display: inline-block;
      padding: 0.6rem;
      font-weight: normal;

      transition: all $fast-transition-speed $easeOutQuart;

      &:hover {
        transform: translateY(-0.2rem);
        opacity: 0.8;
      }
    }
  }

  &.is-active .contact {
    transform: translateY(0);
    opacity: 1;

    transition-delay: $normal-transition-speed;
  }
}

.hero {
  text-align: left;
  justify-content: center;
  background: none;

  &.is-dark {
    background: none;
  }

  &.has-background.is-dark {
    background: $black;
  }

  h1, h2, h3 {
    max-width: 55rem;
  }

  p {
    max-width: 35rem;
  }
}

.hero.home {
  min-height: 100vh;
}

// .hero.offset-image {
//   margin-bottom: $large-spacing;
  
//   .background-image-container {
//     @include desktop {
//       width: auto;
//       margin-left: 15rem;
//       transform: translate3d(0, 3.5rem, 0);
//     }
//   }

//   .content {
//     padding: 10rem 0;
//   }
// }

.hero.offset-image {
  padding-top: 8rem;

  .heading-container {
    padding: 12rem 0 16rem 0;

    @include fullhd {
      padding-left: 6rem;
    }
  }

  .featured-image {
    width: 85%;
    margin-left: 15%;
  }
}

.section.header-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 40rem;
}

.hero.case-study {
  min-height: 90vh;
  h1 {
    margin-bottom: 0;
  }
}

.case-study-description .container {
    padding: 0 7.5%;

    @include desktop {
      padding: 0 10%;
    }

    @include fullhd {
      padding: 0 18%;
    }

    .description {
      @include desktop {
        padding-right: 7%;
      }
    }

    .info {
      h4 {
        margin-bottom: 0.3em;
      }

      p {
        margin-bottom: 1.5em;
      }

      a {
        font-size: 1em;
        letter-spacing: 0;
      }
    }
  }

.next-project-section {
  img {
    opacity: 0.4;
    transition: all $normal-transition-speed $easeOutQuart;
  }

  &:hover img {
    transform: scale(1.01);
    opacity: 0.6;
  }
}

section.case-list {
  z-index: 5;

  header {
    margin-bottom: 5rem;
  }

  .tile.is-ancestor:not(:last-child) {
    margin-bottom: 2rem;
  }

  .tile-link-wrapper {
    display: block;
  }
  
  .tile.is-child {
    p {
      font-weight: normal;
    }

    .transition-helper {
      overflow: hidden;
      background: none;
      transition: all $normal-transition-speed $easeOutCubic;

      img {
        opacity: 1;
        transition: all $normal-transition-speed $easeOutCubic;
      }
    }

    .description {
      text-align: center;
      padding-top: 2rem;
      font-size: 1rem;

      h3 {
        font-size: 1.1rem;
        max-width: 75%;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 0.6em;
        transition: all $normal-transition-speed $easeInOutCubic;
      }

      p {
        max-width: 80%;
        margin-left: auto;
        margin-right: auto;
        transition: all $normal-transition-speed $easeOutQuart;

        @include desktop {
          max-width: 70%;
        }
      }
    }

    &:hover {
      .transition-helper {
        transform: scale(.95);

        img {
          transform: scale(1.1);
        }
      }

      .description {
        h3 {
          transform: translateY(-1rem);
          transition-timing-function: $easeOutQuart;
        }

        p {
          transform: translateY(-1rem);
          transition-timing-function: $easeInOutCubic;
        }
      }
    }
  }
}

section.services {
  header {
    margin-bottom: 5rem;
  }

  .service {
    min-height: 20rem;
    padding: 3rem;

    .background-image-container img {
      transition: all $fast-transition-speed $easeOutCubic;
    }

    h3 {
      max-width: 17rem;
      transition: transform $fast-transition-speed $easeOutCubic;
    }

    img {
      opacity: 0.6;
    }
  }

  a:hover .service {
    .background-image-container img {
      transform: scale(1.05);
      opacity: 0.3;
    }

    h3 {
      transform: translateX(0.2em);
    }
  }

}

.section.image-text-section {
  .text {
    padding: 8% 6%;

    @include widescreen {
      padding: 10% 8%;
    }
  }
}

.team-slider {
  touch-action: pan-y;
  padding-top: 5rem;
  //overflow-x: hidden;
  
  .track {
    //overflow-x: visible;
    white-space: nowrap;
    //width: 1000%;
  }

  .flickity-page-dots {
    bottom: -50px;

    .dot {
      transition: opacity $fast-transition-speed $easeOutQuart;
    }
  }

  .slide {
    width: 26rem;
    display: inline-block;

    &:not(last-child) {
      margin-right: 3rem;
    }

    .slide-contents {
      transform: scale(.95);
      transition: transform $normal-transition-speed $easeOutQuart;
    }

    .slide-image {
      position: relative;
      cursor: pointer;

      .image-overlay {
        position: absolute;
        display: flex;
        flex-direction: column;
        justify-content: center;
        
        z-index: 2;
        background: rgba($black, 0.8);

        top: 0;
        left: 0;
        width: 100%;
        height: 100%;

        padding: 4rem 3rem;

        white-space: normal;

        opacity: 0;
        visibility: hidden;

        transition: opacity $fast-transition-speed $easeInOutCubic, visibility $fast-transition-speed $easeInOutCubic;

        &.visible {
          opacity: 1;
          visibility: visible;
        }

        p {
          display: flex;
        }
      }
    }

    .description {
      padding-left: 2rem; 
      padding-top: 1rem;

      h2 {
        font-size: 1.5rem;
        margin-bottom: 0.2em;
      }

      p.is-subheading {
        font-size: 0.7rem;
        margin-bottom: 0;
      }
    }

    img { 
      width: 100%;
      height: 26rem;
      object-fit: cover;
      transition: all 300ms $easeInOutCubic;
      
      filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale"); /* Firefox 3.5+ */
      filter: gray; /* IE6-9 */
      -webkit-filter: grayscale(100%); /* Chrome 19+ & Safari 6+ */
    }

    &:hover .slide-contents {
      transform: scale(1);

      img {
        filter: none;
        -webkit-filter: grayscale(0%);
        //transform: scale(1.03);
      }
    }

    @include until($desktop) {
      &.is-selected .slide-contents {
        transform: scale(1);

        img {
          filter: none;
          -webkit-filter: grayscale(0%);
          //transform: scale(1.03);
        }
      }
    }
  }
}

.contact-section {
  .background-image-container {
    display: none;

    @include tablet {
      display: block;
      width: 50%;
    }
  }

  .offset-heading {
    @include tablet {
      position: relative;
      transform: translateX(-40%);
      width: 150%;
      max-width: 25rem;
    }
  }

  form.contact-form {
    @include desktop {
      padding-left: 3rem;
    }

    .field {
      padding: 1rem 0;
      margin: 0;
      position: relative;
    }

    .label {
      font-size: 1rem;
      font-family: $body-copy-font;
      color: $body-copy-color + #111111;
      font-weight: normal;
      margin-bottom: 0.8em;
    }

    .input, .textarea {
      border-radius: 0;
      border: none;
      background: #FFFFFF;
      box-shadow: none;
      border-bottom: 1px solid #CCCCCC;

      &::placeholder {
        color: $body-copy-color + #444444;
      }

      &.is-danger {
        background: #FFEFEF;
      }
    }

    .textarea {
      border: 1px solid #CCCCCC;
    }

    .control .select {
      width: 100%;
      
      &::after {
        border-color: #444444;
        height: 0.5em;
        width: 0.5em;
        margin-top: -0.375em;
        border-left-width: 1px;
        border-bottom-width: 1px;
      }

      select {
        width: 100%;
        border-radius: 0;
        border: 1px solid #CCCCCC;
        box-shadow: none;
      }
    }
  }
}

.about-contact-section {
  h1 {
    margin-bottom: 1.2em;
  }

  .address, .contact {
    margin-bottom: 1.5em;

    p {
      margin-bottom: 0;
    }
  }
}

footer {
  h3 {
    font-size: 1rem;
    margin-bottom: 1.5rem;
  }

  .columns.is-gapless > .column.address {
    padding-right: 3rem !important;
  }

  .call-to-action {
    font-size: 1rem;
    
    p {
      max-width: 25rem;
    }
  }

  .columns.contact {
    flex-direction: row-reverse;

    p {
      margin-bottom: 0;
    }
  }

  .copyright {
    margin: 2em 0 0 0;
  }
}